{
  "hash": "2cc511961b1ba91f22d06e8d53f1ebbb",
  "result": {
    "markdown": "---\ntitle: Lecture 06 - Digital Packets & Signaling\n---\n\n## Summary\n\nIn this lecture, we summarize digital streams, packets formats, and signaling as they are widely used for both wireline and wireless transmissions.\n\n## Motivation in Course Context\n\nInformation sources are today represented in a variety of digital formats, i.e., representations consisting of sets of $0$'s and $1$'s.\n\nIn the next three lectures, we summarize concepts of digital data packets and network stacks that modern digital radios have to support.\n\nOur outline will be as follows:\n\n* Digital Packets and Signaling (1/24)\n\n* Layered Protocols for Networking (1/26)\n\n* Link Performance Metrics (1/28)\n\n## Information in Digital Formats\n\n**Discussion:** What information sources are now digital?\n\n* Text (ASCII, [https://en.wikipedia.org/wiki/ASCII;](https://en.wikipedia.org/wiki/ASCII;) Unicode, [https://en.wikipedia.org/wiki/Unicode](https://en.wikipedia.org/wiki/Unicode))\n\n* Speech (AMR, [https://en.wikipedia.org/wiki/Adaptive_Multi-Rate_audio_codec](https://en.wikipedia.org/wiki/Adaptive_Multi-Rate_audio_codec))\n\n* Audio (MP3, [https://en.wikipedia.org/wiki/MP3](https://en.wikipedia.org/wiki/MP3))\n\n* Images (JPEG, [https://en.wikipedia.org/wiki/JPEG](https://en.wikipedia.org/wiki/JPEG))\n\n* Video (MP4, [https://en.wikipedia.org/wiki/MPEG-4_Part_14](https://en.wikipedia.org/wiki/MPEG-4_Part_14))\n\n* ...\n\nIs there any information today that is not represented as digital? Vynyl records, old photographs, AM & FM radio broadcasting.\n\n### Digital Representation Terminology\n\n* A *binary digit*, often abbreviated as a *bit*, is a value $b\\in\\{0,1\\}$.\n\n* A *bit stream* is an arbitrarily large sequences or string of bits, $b[n],n\\in\\mathbb{Z}$.\n\n* A *frame* or a *packet* is a finite-length sequence or string of bits, $b[n],n\\in\\{0,1,\\ldots,N-1\\}$.\n\n* A *subframe* or a *field* is a finite-length sequence of string of bits defined as a part of a frame.\n\n**Example:** The MP4 standard defines a \"transport stream\" as a sequence of \"transport frames\", and each transport frame may contain video and audio frames.\n\n## Wireline Communication Standards\n\n**Exploration:** Standards documents are great places to see how communication engineers specify systems, and learning what we need to learn!\n\n* RS232 [https://en.wikipedia.org/wiki/RS-232](https://en.wikipedia.org/wiki/RS-232)\n\n* USB [https://usb.org/document-library/usb-20-specification](https://usb.org/document-library/usb-20-specification)\n\n* Ethernet [https://ieeexplore.ieee.org/document/8457469](https://ieeexplore.ieee.org/document/8457469)\n\nEach of these standards involves physical specifications for the wire media and connectors, electrical circuit interfaces to the media, signaling formats, and packet structures.\n\nA brief summary of these signaling formats is shown in the table below.\n\n**TBD**\n\n## General Packet Structure\n\nReviewing these communication standards (and many others), we see that there is a general format to digital frames or packets as illustrated in @fig-frame-structure.\n\n![Generic frame structure.](images/Lec06-01.png){#fig-frame-structure}\n\nThe three high-level fields of a packet include:\n\n* Header - Often includes subfields for synchronization, identifying the packet format, specifying the packet length, addressing, and so forth. \n\n* Payload - Contains the data as one or more sub-packets, can be variable length depending upon the protocol.\n\n* Trailer - When used, can include error detection and synchronization subfields.\n\n## Digital Signaling Waveforms\n\n![Return-to-Zero (RZ) Signaling.](images/Lec06-02.png){#fig-rz-signaling}\n\n![Non-Return-to-Zero (NRZ) Signaling.](images/Lec06-03.png){#fig-orz-signaling}\n\n## Mathematical Models\n\nNow we can formulate mathematical models for these signaling formats. In our notation, let $T$ denote the bit, or symbol, period, so that $R=1/T$ denotes the data rate in bits per second.\n\nThe following are the mathematical relationships for various signaling formats.\n\n* **NRZ:**\n$$\n\\sum_{n} A_n\\ \\mathrm{rect}\\left( \\frac{t-nT}{T} \\right)\n$$ {#eq-nrz-signal}\n\n* **RZ:**\n$$\n\\sum_{n} A_n\\ \\mathrm{rect}\\left( \\frac{t-nT}{T_0} \\right)\n$$ {#eq-rz-signal}\nwhere $T_0 < T$\n\n* **Manchester:** Let\n$$\np(t)=\\mathrm{rect}\\left( \\frac{t+T/4}{T/2} \\right) - \\mathrm{rect}\\left( \\frac{t-T/4}{T/2} \\right)\n$$\nthen\n$$\n\\sum_{n} A_n\\ p\\left( \\frac{t-nT}{T} \\right)\n$$ {#eq-Manchester-signal}\n\nTo complete the signal formats, we have to specify the values taken by the $\\{A_n\\}$:\n\n* **On-Off Keying:**\n$$\nA_n = \n\\begin{cases}\n+V & b[n] = 1 \\\\\n0 & b[n] = 0\n\\end{cases}\n$$ {#eq-ook-constellation}\n\n* **Antipodal:**\n$$\nA_n = \n\\begin{cases}\n+V & b[n] = 1 \\\\\n-V & b[n] = 0\n\\end{cases}\n$$ {#eq-antipodal-constellation}\n\nWe see from these relationships that we can generate these digital signaling waveforms with the same signals and systems concepts as interpolation!\n\n## Bandwidth\n\nGiven the prevalence of rectangular pulse waveform in these digital signaling formats, a natural issue to consider is the \"bandwidth\" of the transmission.\n\nGiven the Fourier transform relationship\n$$\np(t)=\\mathrm{rect}(t/T) \\leftrightarrow P(f)=T\\mathrm{sinc}(fT)\n$$ {#eq-rectangular-sinc-fourier-pair}\nfor general $T$, we know that this waveform and waveforms derived from it are not bandlimited in a strict sense.\n\nWe can compare the Fourier transforms of the various signaling formats as shown in the figures below. We start by importing our NumPy and Matplotlib libraries.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport numpy as np\nimport matplotlib.pyplot as plt\n```\n:::\n\n\nNext we define the symbol period $T$, the multipler $W$ of $1/T$ we will use in the frequency domain, and the values of frequency $f$ to plot.\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nT = 1e-6\nW = 10.5\nf = np.linspace(-W/T,W/T,4000)\n```\n:::\n\n\n### NRZ Waveform\n\nWe begin with the NRZ waveform.\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nNRZ = T*np.sin(np.pi*f*T)/(np.pi*f*T)\n```\n:::\n\n\nThe plot below illustrates the magnitude response of this Fourier transform, where we have appropriately normalized the vertical axis by $T$ and the horizonal axis by $1/T$. We observe that the waveform is **not bandlimited**, but the magnitude response decays to $0$ like $1/f$ as $f \\rightarrow \\infty$.\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nplt.plot(f*T,np.abs(NRZ/T),'-',label='NRZ')\nplt.legend()\nplt.xlabel('$fT$')\nplt.ylabel('$|P(f)/T|$');\n```\n\n::: {.cell-output .cell-output-display}\n![](Lec06-DigitalPacketsSignaling_files/figure-html/cell-5-output-1.png){width=591 height=422}\n:::\n:::\n\n\nThe magnitude response equals zero for $f=k/T$, where $k\\in\\mathbb{Z}-\\{0\\}$. We refer to the portion of the magnitude response for $f\\in[-1/T,+1/T]$ as the *main lobe*, and every other interval $f\\in[k/T,(k+1)/T)$ $k=2,3,\\ldots$ as successive *side lobes*.\n\nWe define the *main lobe bandwidth* as the smallest positive frequency such that $|P(f)|=0$. In the case of the rectangular NRZ waveform with bit or symbol period $T$, we see that the main lobe bandwidth is $1/T$, which corresponds to the data rate $R$. Thus, transmitting higher data rates requires larger signal bandwidth in the NRZ signaling format.\n\nThe plot below illustrates the magnitude response on a decibel (dB) scale and for narrower range of $fT$.\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nplt.plot(f*T,20.0*np.log10(np.abs(NRZ/T)),'-',label='NRZ')\nplt.axis([-5,5,-40,0])\nplt.legend()\nplt.xlabel('$fT$')\nplt.ylabel('$|P(f)/T|$ (dB)');\n```\n\n::: {.cell-output .cell-output-display}\n![](Lec06-DigitalPacketsSignaling_files/figure-html/cell-6-output-1.png){width=598 height=427}\n:::\n:::\n\n\n### RZ Waveform\n\nNow we consider a RZ waveform with 50% duty cycle, i.e., $T_0 = T/2$.\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nT0 = 0.5*T\nRZ = T0*np.sin(np.pi*f*T0)/(np.pi*f*T0)\n```\n:::\n\n\nIn the plot of the magnitude response of this waveform, we see that it has twice the main lobe bandwidth. More generally, the main lobe bandwidth of the RZ waveform is $1/T_0$. In this case, we observe that the main lobe bandwidth is actually larger than the data rate! However, as we grow the data rate by increasing $R=1/T$, we still increase the banwidth since $1/T_0 > 1/T$.\n\n::: {.cell execution_count=7}\n``` {.python .cell-code}\nplt.plot(f*T,20.0*np.log10(np.abs(RZ/T)),'-',label='RZ');\nplt.axis([-5,5,-40,0])\nplt.legend()\nplt.xlabel('$fT$')\nplt.ylabel('$|P(f)/T|$ (dB)');\n```\n\n::: {.cell-output .cell-output-display}\n![](Lec06-DigitalPacketsSignaling_files/figure-html/cell-8-output-1.png){width=598 height=427}\n:::\n:::\n\n\n### Manchester Waveform\n\nThe time-domain waveform\n$$\np(t)=\\mathrm{rect}\\left( \\frac{t+T/4}{T/2} \\right) - \\mathrm{rect}\\left( \\frac{t-T/4}{T/2} \\right)\n$$\nhas Fourier transform\n$$\nP(f) = e^{j2\\pi f \\frac{T}{4}} \\frac{T}{2} \\mathrm{sinc}\\left( \\frac{fT}{2} \\right) - e^{-j2\\pi f \\frac{T}{4}} \\frac{T}{2} \\mathrm{sinc}\\left( \\frac{fT}{2} \\right) = j T \\sin\\left( \\frac{\\pi f T}{2} \\right) \\mathrm{sinc}\\left( \\frac{fT}{2} \\right)\n$$\nWe should not be surprised that this Fourier transform is purely imaginary, because the time-domain waveform is odd symmetric.\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nMAN = 1j*T*np.sin(np.pi*f*T/2)*np.sin(np.pi*f*T/2)/(np.pi*f*T/2)\n```\n:::\n\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\nplt.plot(f*T,np.imag(MAN/T),'-',label='MAN')\nplt.legend()\nplt.xlabel('$fT$')\nplt.ylabel('$\\mathrm{Im}\\{P(f)/T\\}$');\n```\n\n::: {.cell-output .cell-output-display}\n![](Lec06-DigitalPacketsSignaling_files/figure-html/cell-10-output-1.png){width=601 height=422}\n:::\n:::\n\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\nplt.plot(f*T,20.0*np.log10(np.abs(MAN/T)),'-',label='MAN');\nplt.axis([-5,5,-40,0])\nplt.legend()\nplt.xlabel('$fT$')\nplt.ylabel('$|P(f)/T|$ (dB)');\n```\n\n::: {.cell-output .cell-output-display}\n![](Lec06-DigitalPacketsSignaling_files/figure-html/cell-11-output-1.png){width=598 height=427}\n:::\n:::\n\n\nNot surprisingly, we see that the Manchester waveform has main lobe bandwidth $2/T$ like the 50% duty cycle rectangular waveform from which it is formed. However, the Manchester waveform has no DC component in the frequency domain.\n\n",
    "supporting": [
      "Lec06-DigitalPacketsSignaling_files"
    ],
    "filters": [],
    "includes": {}
  }
}